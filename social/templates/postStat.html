{% extends "base.html" %}

{% block title %}Posts Summary{% endblock %}

{% block content %}

<h3 class="mb-4">Posts Summary</h3>

<div class="card shadow-sm">
  <div class="card-body">

    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Post Link</th>
            <th>Toatal Likes</th>
            <th>Total Comments</th>
            <th class="text-center">Toatal Shares</th>
          </tr>
        </thead>

        <tbody>
          {% for post in posts %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ post.post_url }}</td>
            <td>{{ post.total_likes }}</td>
            <td>{{ post.total_comments }}</td>
            <td>{{ post.total_shares }}</td>
            
            <td class="text-center">

              {% comment %} <!-- Remove User -->
              <form action="{% url 'remove_user' user.id %}"
                    method="post"
                    class="d-inline">
                {% csrf_token %}
                <button type="submit"
                        class="btn btn-sm btn-danger"
                        onclick="return confirm('Are you sure you want to remove this user?');">
                  <i class="bi bi-trash"></i> Remove
                </button>
              </form> {% endcomment %}

            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center text-muted">
              No users found.
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>
</div>

{% endblock %}
